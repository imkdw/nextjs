# 렌더링

- 작성한 코드는 유저 인터페이스로 변환된다
- React + Next.js를 사용해서 코드의 일부가 서버 또는 클라이언트에서 렌더링이 가능한 하이브리드 웹앱을 만들 수 있다

<br/>

# 기본 사항

아래는 웹앱을 만들기 위해 숙지해야하는 3가지 내용이다

1. 코드가 실행될 수 있는 서버 및 클라이언트 환경
2. 유저가 웹을 방문하거나 상호작용 할때 시작되는 요청-응답에 대한 라이프사이클
3. 서버와 클라이언트의 코드를 구분하는 네트워크 경계

<br/>

# 렌더링 환경

웹앱을 렌더링 할 수 있는 환경에는 클라이언트와 서버 2가지의 환경이 있다

![](https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fclient-and-server-environments.png&w=1920&q=75)

#### 클라이언트

- 클라이언트는 앱 코드에 대한 요청을 서버로 보내는 사용자의 브라우저다
- 그리고나서 응답을 유저의 인터페이스로 변환한다

#### 서버

서버는 앱 코드를 저장하고 클라이언트에서 받은 요청에 대한 응답을 전송하는 컴퓨터다

- 기존에는 개발자가 서버와 클라용 코드를 작성할 때 서로 다른언어와 프레임워크를 사용하고 있었다.
- 하지만 리액트를 사용하면 React, Next.js 등 동일한 프레임워크와 언어를 사용할 수 있다
- 하지만 각 환경에는 고유한 기능과 제약조건이 존재한다
- 이러한 차이점을 이해하는게 React, Next.js를 효과적으로 사용하기 위한 핵심이다

<br/>

# 응답 - 요청 라이프사이클

모든 웹사이트는 동일한 요청 - 응답 라이프 사이클을 준수한다

#### 유저의 액션

- 링크 클릭, 폼 서브밋 등 유저와의 인터렉션

#### HTTP 요청

- 클라이언트는 GET, POST 등 필요한 데이터를 위해 서버로 HTTP 요청을 전송함

#### 서버

- 서버는 요청을 처리하고 리소스를 반환한다
- 해당 프로세스에는 라우팅, 데이터 로딩 등 몇가지 단계가 포함된다

#### HTTP 응답

- 서버는 요청을 처리하고 HTTP 응답을 클라이언트에 반환한다
- 이는 상태코드, JSON 등 데이터가 포함된다

#### 클라이언트

- 클라이언트는 리소스를 파싱하고 유저의 인터페이스를 렌더링한다

#### 유저 액션

- 유저는 인터페이스가 렌더링되면 상호작용이 가능하며 모든 프로세스가 다시 시작된다

하이브리드 웹앱 구축의 주요 부분은 라이프사이클에서 작업을 분배하는 방법과 네트워크에 대한 경계를 어디에 배치할지 결정하는것이다

<br/>

# 네트워크 경계

- 웹개발에서 네트워크 경계는 서로 다른 환경을 구분하는 개념적인 경계다
- 예를 들어서 클라이언트/서버, 서버/데이터베이스 등이 이에 해댱된다
- Next.js 에서는 `"use client"`, `"use server"` 키워드를 통해서 구분이 가능하다

<br/>

# 하이브리드 앱 만들기

- 이런 환경에서 앱의 코드 흐름을 단방향으로 이해하는것이 도움이 된다
- 요청에 대한 응답을 하는 동안은 서버 -> 클라이언트 한 방향으로 흫른다
